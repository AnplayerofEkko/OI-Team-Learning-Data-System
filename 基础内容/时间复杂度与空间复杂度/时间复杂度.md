# 时间复杂度 

2018.06.27 作者：黄宏基

---

> 计算机科学中，算法的时间复杂度是一个函数，它定量描述了该算法的运行时间。这是一个关于代表算法输入值的字符串的长度的函数。时间复杂度常用大O符号表述，不包括这个函数的低阶项和首项系数。使用这种方式时，时间复杂度可被称为是渐近的，它考察当输入值大小趋近无穷时的情况。

**一个算法中语句执行次数称为时间频度，记为T(n)**

如下面这段代码：

```cpp
    int run(int n)
    {
        for(int i=0;i<n;i++) //需要执行n+1次
        {
        cout<<"hello world"; //需要执行n次
        }
        return 0; //需要执行一次
    }
```
则这段代码需要(n+1)+n+1=2n+2次运算。
我们把算法需要执行的运算次数用输入大小n的函数表示，即T(n) 。

**那么当我们拿到算法的执行次数函数T（n）之后怎么得到算法的时间复杂度呢？**

 1.我们知道常数项并不影响函数的增长速度，所以当T(n)=c，c为一个常数的时候，我们说这个算法的时间复杂度为O(1)；如果T(n)不等于一个常数项时，直接将常数项省略。
如：
```cpp
int main()
{
    cout<<"hello world";
    return 0;
}
```
这时，这段代码的T(n)=2,所以我们说这段代码的时间复杂度为O(1)
当T(n)=2n+2时,此时的时间复杂度为O(n)

2.我们知道高次项对于函数的增长速度的影响是最大的，n^3的增长速度是远超n^2的，同时n^2的增长速度是远超n的。同时因为要求的精度不高，所以我们直接忽略低次项。
比如:
当T(n)=n^3+n^2+1，此时时间复杂度为O(n^3)。

3.因为函数的阶数对函数的增长速度的影响是最显著的，所以我们忽略与最高阶相乘的常数。
比如：
当T(n)=3n^3，此时时间复杂度为O(n^3)。

**综合起来：如果一个算法的执行次数是T(n)，那么只保留最高次项，同时忽略最高项的系数后得到函数 f(n)，此时算法的时间复杂度就是 O(f(n))。**

**大O推导法：**

 1. 对于一个循环，假设循环体的时间复杂度为O(n)，循环次数为m，则这个循环的时间复杂度为 O(n×m)。

 ```cpp
 void a(int n)
 {
    for(int i=0;i<n;i++) \\循环次数 n
      {
        cout<<"hello world"; \\循环体的时间复杂度为O(1)
      }
 }
 ```
 时间复杂度为O(n)
 
 2. 对于多个循环，假设循环体的时间复杂度为O(n)，各个循环的循环次数分别是a, b, c...，则这个循环的时间复杂度为O(n×a×b×c...)。分析的时候应该由里向外分析这些循环。

```cpp
void aFunc(int n) {
    for(int i = 0; i < n; i++) {         // 循环次数为 n
        for(int j = 0; j < n; j++) {       // 循环次数为 n
            printf("Hello, World!\n");      // 循环体时间复杂度为 O(1)
        }
    }
}
```
此时时间复杂度为 O(n × n × 1)，即 O(n^2)。

 3. 对于顺序执行的语句或者算法，总的时间复杂度等于其中最大的时间复杂度。

```cpp
void aFunc(int n) {
    // 第一部分时间复杂度为 O(n^2)
    for(int i = 0; i < n; i++) {
        for(int j = 0; j < n; j++) {
            printf("Hello, World!\n");
        }
    }
    // 第二部分时间复杂度为 O(n)
    for(int j = 0; j < n; j++) {
        printf("Hello, World!\n");
    }
}
```
此时时间复杂度为 max(O(n^2), O(n))，即 O(n^2)。

 4. 对于条件判断语句，总的时间复杂度等于其中 时间复杂度最大的路径 的时间复杂度。

```cpp
void aFunc(int n) {
    if (n >= 0) {
        // 第一条路径时间复杂度为 O(n^2)
        for(int i = 0; i < n; i++) {
            for(int j = 0; j < n; j++) {
                printf("输入数据大于等于零\n");
            }
        }
    } else {
        // 第二条路径时间复杂度为 O(n)
        for(int j = 0; j < n; j++) {
            printf("输入数据小于零\n");
        }
    }
}
```
 此时时间复杂度为 max(O(n^2), O(n))，即 O(n^2)。
 
 ## 参考文献

 https://www.jianshu.com/p/f4cca5ce055a