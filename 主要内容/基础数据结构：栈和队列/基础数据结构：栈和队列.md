# 基础数据结构：栈和队列

2018.06.26 作者：王樾

---

## 前面的话

现在我们来正式地接触一下数据结构。

数据结构(data structres)，用直白的话讲就是用来装数据的结构。

许多的数据结构具有一定的性质，所以可以实现特定的功能，比如在以优秀的时间复杂度完成一定的运算。

现在介绍最基础的数据结构：栈和队列。

## 栈

栈(stack)，又名堆栈，是一种特殊的线性表。

什么是线性表？百度百科上说：

> 线性表中数据元素之间的关系是一一对应的。

也就是说：在栈中，每个位置有唯一确定的元素。

特殊在哪里？特殊在进栈(push)和出栈(pop)操作被我们人为限制了。

给一张图：

![](https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=b4cf8cd69925bc313f5009ca3fb6e6d4/8b82b9014a90f603eab7c55f3912b31bb051eda7.jpg)

栈可以想象成一个井。进栈时，只能够扔进去，并且叠在已有元素的最顶端（栈顶）。而出栈时，只能够将最顶端的元素弹出。

这种性质称为“后进先出”(LIFO, last in first out)。

### 储存方式

一般是使用数组储存，像这样：

```cpp
int stack[maxn], top;
```

top的值就是栈顶的位置。

如何将一个元素入栈？只需要将当前栈顶位置++，然后赋值即可。

如何出栈？只需要top--。因为一旦我们入栈，必定会修改相关位置的值，所以以前的值是没有影响的。

如何判断是否栈为空？当top为0时就为空，否则不空。

也可以使用STL(standard template library，标准模板库)中的`std::stack`。具体的使用方法可以上网查一查。

### 栈的应用

1. 系统栈。

计算机在执行任务的时候，每一个函数就是一个栈中的元素。

当一个函数中调用了其他函数时，会先完成被调用的函数，再继续完成这个函数。

这也就是dfs算法能实现的原因。

2. 表达式求值问题。

详情可以参见“前、中、后缀表达式”。

3. 括号匹配问题。

只需要维护一个栈，因为越后面的左括号会跟越前面的右括号匹配，所以正好满足了栈的性质。

## 队列

队列(queue)，同样是一种特殊的线性表。

给一张图：

![](https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=35768ebb0ff3d7ca18fb37249376d56c/cdbf6c81800a19d8116a4d8030fa828ba71e46ce.jpg)

特殊的地方在于：进队的时候，从队尾进入，出队的时候，从队头弹出。

这种性质也叫作“先进先出”(FIFO, first in first out)。

很容易类比过来，在食堂排队的队列就跟我们这里说讲的队列差不多（前提是没有插队）。

### 储存方式

一般也是使用数组储存，像这样：

```cpp
int queue[maxn], front, rear;
```

这里`front`代表队尾，`rear`代表队首。

如何将一个元素入队？只需要将队首后移一位，再赋值就可以了。

如何出队？直接`front++`。（思考一下：**为什么不像栈一样将起点固定？**）

如何判断队列为空？当队首和队尾重合时，队列为空，否则不为空。

当然也有STL版本的队列，名字是`std::queue`。同样操作也不介绍。

为什么不太推崇STL的栈和队列呢？因为太慢了！有时STL是性能瓶颈。

愿意的话可以使用链式储存，但一般没必要。

还有队列的优化版本：循环队列。同学们可以自己去了解下。

### 应用

1. 根据题意使用队列模拟。

2. 宽度优先搜索(bfs, breath first search)。

这是搜索的一种算法，比较重要，同学们可以自行了解。

经典应用有：走迷宫。

## 后面的话

介绍完了！

栈和队列是基础的数据结构，学完这两种数据结构之后，大家如果有余力的话，可以尽情地挑战更高级的数据结构。

学习数据结构的时候，相信大家可能会学着学着一句“WA”。。。因为有的东西真的太巧妙了。

再见！